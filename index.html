<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Option 9 – Standalone Dual-Source Uploader (Right Drawer) – Interactive</title>
<style>
  :root {
    --bg:#F6F8FB;
    --card:#FFFFFF;
    --ink:#0F2D56;
    --muted:#6B7280;
    --accent:#0F2D56;
    --line:#E5E7EB;
    --shadow:0 8px 30px rgba(17, 34, 68, .08);
    --radius:14px;
  }

  * { box-sizing:border-box; }

  html, body {
    margin:0;
    padding:0;
    background:var(--bg);
    color:var(--ink);
    font:16px/1.4 "Segoe UI", system-ui, sans-serif;
  }

  .wrap {
    max-width:820px;
    margin:32px auto;
    padding:0 16px;
  }

  h1 {
    font-size:30px;
    margin:8px 0 4px;
    font-weight:700;
    text-align:center;
    color:var(--ink);
  }

  p.lead {
    color:var(--muted);
    text-align:center;
    margin:0 auto 24px;
    max-width:620px;
    font-size:16px;
  }

  /* Document Cards */
  .doc-card {
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:18px 18px 20px;
    margin-bottom:20px;
  }

  .doc-hd {
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:8px;
  }

  .doc-title {
    font-size:18px;
    font-weight:700;
    color:var(--ink);
  }

  .doc-meta {
    margin-left:auto;
    color:var(--muted);
    font-size:13px;
  }

  .actions {
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin:10px 0;
  }

  .btn {
    display:inline-flex;
    align-items:center;
    gap:8px;
    border:1px solid var(--accent);
    background:var(--accent);
    border-radius:10px;
    padding:10px 12px;
    color:#fff;
    text-decoration:none;
    cursor:pointer;
    font-size:15px;
    font-weight:600;
  }

  .btn.small {
    padding:7px 10px;
    font-size:13px;
  }

  .btn.outline {
    background:#fff;
    color:var(--accent);
    border-color:var(--accent);
  }

  .dropzone {
    border:2px dashed var(--line);
    border-radius:12px;
    padding:18px;
    text-align:center;
    color:var(--muted);
    transition:border-color .2s, background .2s;
    background:white;
  }

  .dropzone:hover {
    border-color:var(--accent);
    background:white;
  }

  .dropzone input[type="file"] { display:none; }

  .dz-title {
    font-weight:600;
    font-size:15px;
    color:var(--ink);
  }

  .dz-sub {
    font-size:12px;
    color:var(--muted);
  }

  .selected {
    border:1px solid var(--line);
    background:#fff;
    border-radius:10px;
    padding:10px 12px;
    margin-top:10px;
    display:flex;
    align-items:center;
    gap:10px;
  }

  .hidden { display:none; }

  /* RIGHT DRAWERS */
  .overlay {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.45);
    opacity:0;
    pointer-events:none;
    transition:opacity .2s;
  }

  .overlay.active {
    opacity:1;
    pointer-events:auto;
  }

  .sheet {
    position:fixed;
    right:0;
    top:0;
    height:100%;
    width:min(440px,92vw);
    background:#fff;
    border-left:1px solid var(--line);
    box-shadow:var(--shadow);
    transform:translateX(100%);
    transition:transform .25s;
    font-family:"Segoe UI", system-ui, sans-serif;
  }

  .overlay.active .sheet {
    transform:translateX(0);
  }

  .sheet header {
    padding:14px 16px;
    border-bottom:1px solid var(--line);
    display:flex;
    align-items:center;
    gap:8px;
  }

  .sheet header .t {
    font-weight:700;
    color:var(--ink);
    font-size:16px;
  }

  .sheet .close {
    margin-left:auto;
    color:var(--muted);
    cursor:pointer;
    font-size:14px;
  }

  .sheet .body {
    padding:14px 16px;
  }

  /* SEARCH (unchanged structurally — only visual fixes) */
  .search {
    display:flex;
    border:1px solid var(--line);
    border-radius:10px;
    overflow:hidden;
    margin-bottom:10px;
  }

  .search input {
    flex:1;
    border:0;
    padding:10px 12px;
    font-size:15px;
    color:var(--ink);
  }

  .search .btn {
    border:0;
    border-left:1px solid var(--line);
    border-radius:0;
    height:auto;
    padding:0 18px;
  }

  /* List */
  .list {
    border:1px solid var(--line);
    border-radius:12px;
    overflow:hidden;
    margin-top:10px;
  }

  .list .item {
    display:flex;
    align-items:center;
    gap:10px;
    padding:12px;
    border-top:1px solid var(--line);
    cursor:pointer;
    font-size:14px;
  }

  .list .item:first-child { border-top:0; }

  .item .meta {
    font-size:12px;
    color:var(--muted);
  }

  .item .badge {
    margin-left:auto;
    font-size:12px;
    color:#fff;
    background:var(--accent);
    padding:2px 8px;
    border-radius:999px;
  }

  .empty {
    border:1px dashed var(--line);
    border-radius:12px;
    padding:16px;
    color:var(--muted);
    text-align:center;
    margin-top:10px;
    font-size:14px;
  }

  .divider {
    display:flex;
    align-items:center;
    gap:10px;
    color:var(--muted);
    font-size:12px;
    margin:12px 0;
  }

  .divider:before,
  .divider:after {
    content:"";
    flex:1;
    height:1px;
    background:var(--line);
  }

  /* MINI POPUP */
  .mini-popup {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.45);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:9999;
  }

  .mini-popup.active { display:flex; }

  .mini-box {
    background:#fff;
    padding:20px 24px;
    border-radius:12px;
    box-shadow:0 6px 20px rgba(0,0,0,.1);
    max-width:360px;
    text-align:center;
    font-size:15px;
    color:var(--ink);
  }

  .mini-box button {
    margin-top:14px;
    padding:8px 18px;
    border-radius:8px;
    border:1px solid var(--accent);
    background:var(--accent);
    color:#fff;
    cursor:pointer;
    font-size:14px;
  }

.back-nav {
        position: absolute;
        top: 40px;
        left: 40px;
        font-size: 16px;
        font-weight: 600;
        color: #0F2D56;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 14px;
        border-radius: 8px;
        transition: background 0.2s ease;
        z-index: 10;
}

.back-nav:hover {
        background: #eef1f6;
}



</style>
</head>
<body>
<div class="wrap">
<!-- BACK BUTTON -->
<div class="back-nav" onclick="history.go(-2)">
  ← Back
</div>

  <h1>Attach Supporting Documents</h1>
  <p class="lead">Select from your Asset Library or upload a new file for each document type.</p>

  <article class="doc-card" id="discovery">
    <div class="doc-hd">
      <div class="doc-title">Discovery Documents</div>
      <div class="doc-meta">3 on file</div>
    </div>
    <div class="actions">
      <a class="btn" href="#lib-discovery">Select From Library</a>
    </div>
    <div class="dropzone"><label><input type="file"><div class="dz-title">Upload file</div><div class="dz-sub">PDF, JPEG or PNG (≤ 15MB)</div></label></div>
    <div class="selected hidden"><span class="label" style="font-weight:600">Selected:</span> <span class="filename"></span><span style="margin-left:auto"></span><a class="btn small outline change" href="#lib-discovery">Change</a><button class="btn small outline remove" type="button">Remove</button></div>
  </article>

  <article class="doc-card" id="complaint">
    <div class="doc-hd">
      <div class="doc-title">Complaint or Case Filing</div>
      <div class="doc-meta">No files yet</div>
    </div>
    <div class="actions">
      <a class="btn" href="#lib-complaint">Select From Library</a>
    </div>
    <div class="dropzone"><label><input type="file"><div class="dz-title">Upload file</div><div class="dz-sub">PDF, JPEG or PNG (≤ 15MB)</div></label></div>
    <div class="selected hidden"><span class="label" style="font-weight:600">Selected:</span> <span class="filename"></span><span style="margin-left:auto"></span><a class="btn small outline change" href="#lib-complaint">Change</a><button class="btn small outline remove" type="button">Remove</button></div>
  </article>

  <article class="doc-card" id="docket">
    <div class="doc-hd">
      <div class="doc-title">Case Docket</div>
      <div class="doc-meta">2 on file</div>
    </div>
    <div class="actions">
      <a class="btn" href="#lib-docket">Select From Library</a>
    </div>
    <div class="dropzone"><label><input type="file"><div class="dz-title">Upload file</div><div class="dz-sub">PDF, JPEG or PNG (≤ 15MB)</div></label></div>
    <div class="selected hidden"><span class="label" style="font-weight:600">Selected:</span> <span class="filename"></span><span style="margin-left:auto"></span><a class="btn small outline change" href="#lib-docket">Change</a><button class="btn small outline remove" type="button">Remove</button></div>
  </article>

  <article class="doc-card" id="otherdocs">
    <div class="doc-hd">
      <div class="doc-title">Other Document Types</div>
      <div class="doc-meta">Upload any supporting files</div>
    </div>
 
    <div class="dropzone">
      <label>
        <input type="file">
        <div class="dz-title">Upload file</div>
        <div class="dz-sub">PDF, JPEG, PNG, DOCX, XLSX (≤ 15MB)</div>
      </label>
    </div>
    <div class="selected hidden">
      <span class="label" style="font-weight:600">Selected:</span>
      <span class="filename"></span>
      <span style="margin-left:auto"></span>
      <a class="btn small outline change" href="#lib-otherdocs">Change</a>
      <button class="btn small outline remove" type="button">Remove</button>
    </div>
</article>

</div>
<!-- MINI POPUP -->
<div id="mini-popup" class="mini-popup">
  <div class="mini-box">
    <p>This should open the same upload pop up box in the legal-document-library page <a href="https://app.screencast.com/EVumDlaHx7qyD" target="_blank">https://app.screencast.com/EVumDlaHx7qyD</a>
</p>
    <button class="mini-close">OK</button>
  </div>
</div>
<!-- RIGHT DRAWERS -->
<div id="lib-otherdocs" class="overlay">
  <aside class="sheet">
    <header>
      <span class="t">Asset Library — Other Document Types</span>
      <span class="close" data-close>Close</span>
    </header>

    <div class="body">

      <div class="list">
        <div class="item">
          <div>Notes_Attachment.docx<br><span class="meta">420KB • Aug 3, 2025</span></div>
          <span class="badge">Choose</span>
        </div>

        <div class="item">
          <div>Financial_Report_Q2.xlsx<br><span class="meta">1.1MB • Jul 21, 2025</span></div>
          <span class="badge">Choose</span>
        </div>

        <div class="item">
          <div>Support_Image_01.png<br><span class="meta">680KB • Apr 9, 2025</span></div>
          <span class="badge">Choose</span>
        </div>
      </div>

      <div class="divider">or upload new</div>

      <div class="dropzone">
        <label>
          <input type="file">
          <div class="dz-title">Upload file</div>
          <div class="dz-sub">PDF/JPEG/PNG/DOCX/XLSX • ≤ 15MB</div>
        </label>
      </div>
    </div>

  </aside>
</div>


<div id="lib-complaint" class="overlay">
  <aside class="sheet">
    <header>
      <span class="t">Asset Library — Complaint or Filing</span>
      <span class="close" data-close>Close</span>
    </header>
    <div class="body">
      <div class="empty">No complaint filings found for this matter.</div>
      <div class="divider">upload new</div>
      <div class="dropzone"><label><input type="file"><div class="dz-title">Upload complaint</div><div class="dz-sub">PDF/JPEG/PNG • ≤ 15MB</div></label></div>
    </div>
  </aside>
</div>

<div id="lib-docket" class="overlay">
  <aside class="sheet">
    <header>
      <span class="t">Asset Library — Case Docket</span>
      <span class="close" data-close>Close</span>
    </header>
    <div class="body">
      <div class="list">
        <div class="item"><div>CaseDocket_2022_Q4.pdf<br><span class="meta">Dec 20, 2022 • 1.0MB</span></div><span class="badge">Choose</span></div>
        <div class="item"><div>CaseDocket_2023_Q2.pdf<br><span class="meta">Jun 3, 2023 • 1.2MB</span></div><span class="badge">Choose</span></div>
      </div>
      <div class="divider">or upload the latest docket</div>
      <div class="dropzone"><label><input type="file"><div class="dz-title">Upload latest docket</div><div class="dz-sub">PDF/JPEG/PNG • ≤ 15MB</div></label></div>
    </div>
  </aside>
</div>

<div id="lib-discovery" class="overlay">
  <aside class="sheet">
    <header>
      <span class="t">Asset Library — Discovery Documents</span>
      <span class="close" data-close>Close</span>
    </header>

    <div class="body">
      <div class="search">
        <input placeholder="Search discovery…">
        <button class="btn">Search</button>
      </div>

      <div class="list">
        <div class="item">
          <div>Interrogatories_Pl_01.pdf<br><span class="meta">1.2MB • Jun 14, 2025</span></div>
          <span class="badge">Choose</span>
        </div>

        <div class="item">
          <div>Responses_Def_01.pdf<br><span class="meta">980KB • Jun 22, 2025</span></div>
          <span class="badge">Choose</span>
        </div>

        <div class="item">
          <div>Production_Log_v3.xlsx<br><span class="meta">860KB • May 29, 2025</span></div>
          <span class="badge">Choose</span>
        </div>
      </div>

      <div class="divider">or upload a new file</div>

      <div class="dropzone">
        <label>
          <input type="file">
          <div class="dz-title">Upload discovery file</div>
          <div class="dz-sub">PDF/JPEG/PNG • ≤ 15MB</div>
        </label>
      </div>
    </div>
  </aside>
</div>


<script>
(function(){
  function mapOverlayToCardId(overlay){
    return (overlay.getAttribute('id')||'').replace('lib-','');
  }
  function showSelection(cardId, filename){
    var card=document.getElementById(cardId); if(!card) return;
    var dz=card.querySelector('.dropzone');
    var selected=card.querySelector('.selected');
    if(selected){ selected.classList.remove('hidden'); selected.querySelector('.filename').textContent=filename; }
    if(dz){ dz.classList.add('hidden'); }
  }
  function clearSelection(card){
    var dz=card.querySelector('.dropzone');
    var selected=card.querySelector('.selected');
    if(selected){ selected.classList.add('hidden'); selected.querySelector('.filename').textContent=''; }
    if(dz){ dz.classList.remove('hidden'); var input=dz.querySelector('input[type=file]'); if(input) input.value=''; }
  }

  // OPEN overlays without updating the URL hash (prevents :target from keeping drawers open)
  document.querySelectorAll('a[href^="#lib-"]').forEach(function(a){
    a.addEventListener('click',function(e){
      e.preventDefault();
      var id=a.getAttribute('href').slice(1);
      var ov=document.getElementById(id);
      if(ov) ov.classList.add('active');
    });
  });

  // CLOSE overlays via close button
  document.querySelectorAll('.overlay .close').forEach(function(btn){
    btn.addEventListener('click',function(){
      var ov = btn.closest('.overlay');
      if(ov) ov.classList.remove('active');
    });
  });

  // CLOSE overlays when clicking the dimmed background
  document.querySelectorAll('.overlay').forEach(function(ov){
    ov.addEventListener('click', function(e){
      if(e.target === ov){ ov.classList.remove('active'); }
    });
  });

  // CHOOSE FROM LIBRARY
  document.querySelectorAll('.overlay .list .item').forEach(function(item){
    item.addEventListener('click',function(){
      var overlay=item.closest('.overlay');
      var cardId=mapOverlayToCardId(overlay);
      var filename=item.innerText.split('\n')[0].trim();
      showSelection(cardId, filename);
      // Close the drawer immediately after choosing
      overlay.classList.remove('active');
    });
  });

  // UPLOAD: reflect selection on change
  document.querySelectorAll('.doc-card .dropzone input[type=file]').forEach(function(input){
    input.addEventListener('change',function(){
      if(input.files && input.files[0]){ showSelection(input.closest('.doc-card').id, input.files[0].name); }
    });
  });

  // REMOVE selections
  document.querySelectorAll('.doc-card .selected .remove').forEach(function(btn){
    btn.addEventListener('click',function(){ clearSelection(btn.closest('.doc-card')); });
  });
})();

// --- CUSTOM: Other Document Types upload popup ---
document.querySelector('#otherdocs .dropzone').addEventListener('click', function(e){
  e.preventDefault();   // prevent real file input from opening
  e.stopPropagation();
  document.getElementById('mini-popup').classList.add('active');
});

// Close popup
document.querySelector('#mini-popup .mini-close').addEventListener('click', function(){
  document.getElementById('mini-popup').classList.remove('active');
});

</script>
</body>
</html>
